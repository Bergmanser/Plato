<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="./assets/css/parent_overview.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <title>Parent Overview</title>
</head>
<body>
  <div id="header-container"></div>
  <div class="container mt-5">
    <div id="header" class="mb-3">
      <!-- <h1 id="welcomeHeader">Welcome</h1> -->

      <!-- Tab buttons to switch between sections -->
      <div class="tab-buttons">
        <button id="showStudentInfoSection" class="tab-button active">Student Collection Info</button>
        <button id="showQuizOptionsSection" class="tab-button">Navigate Quiz Options</button>
        <div class="tab-indicator"></div>
      </div>
    </div>

    <!-- Student collection info section -->
    <div id="studentCollectionInfo">
        <!-- This button allows toggling between the card and list styles of the child user table -->
      <button id="toggleDesignButton" class="btn btn-secondary float-right">Toggle Design</button>
      <input type="text" id="searchBar" class="form-control mb-3" placeholder="Search by username">
      <!-- Child Users Table -->
      <div id="tableDesign">
        <table class="table scrollable-table">
          <thead>
            <tr>
              <th>Username</th>
              <th>Last login Date</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="childUserList">
            <!-- Child users will be populated here -->
          </tbody>
        </table>
        <button type="button" class="btn btn-primary" id="openAddStudentPopup">
        Add Child
        </button>
      </div>
      
      <!-- Card Design -->
      <div id="cardDesign" style="display:none;">
        <div class="card-container" id="cardUserList">
          <!-- Cards will be populated here -->
        </div>
      </div>
   </div>

    <!-- Detailed student view section -->
    <div id="studentDetailedView" class="detailed-view-container">
        <button class="btn btn-secondary back-button" id="backButton">
              <i class="fas fa-arrow-left"></i> 
        </button>
        <input type="text" id="detailedViewSearchBar" class="" placeholder="Search by username">
        <div class="detailed-view">
          <div class="detailed-view-left" id="studentListView"></div>
          <div class="detailed-view-right" id="studentDetailInfo">
            <h2>Student Additional Info</h2>
            <p id="studentDetailContent">Detailed information will be displayed here.</p>
          </div>
        </div>
    </div>

    <!-- Navigate Quiz Options Section -->
    <div id="navigateQuizOptions" style="display: none;">
      <!-- Answer Sheets Table -->
      <h2 class="mt-5">Answer Sheets</h2>
      <input type="text" id="answerSheetSearchBar" class="form-control mb-3" placeholder="Search by title">
      <table class="table">
        <thead>
          <tr>
            <th>Title</th>
          </tr>
        </thead>
        <tbody id="answerSheetList">
          <!-- Answer sheets will be populated here -->
        </tbody>
      </table>
    </div>
  </div>

  <!-- Custom Add Student Popup -->
  <div id="addStudentPopup" class="popup">
    <div class="popup-content">
      <div class="popup-header">
        <h5>Add Student</h5>
        <button type="button" class="close-popup">&times;</button>
      </div>
      <form class="addStudentForm" id="addStudentForm">
        <div class="form-group">
          <input type="text" class="form-control" id="username-student-signup" placeholder="Username" required>
        </div>
        <div class="form-group">
          <input type="password" class="form-control" id="password-student-signup" placeholder="Password" required>
        </div>
        <input type="submit" class="add-student-btn btn btn-primary" value="Add User">
      </form>
    </div>
  </div>

  <!-- Custom Delete Confirmation Popup -->
  <div id="deleteConfirmationPopup" class="popup">
    <div class="popup-content">
      <div class="popup-header">
        <h5>Confirm Deletion</h5>
        <button type="button" class="close-popup">&times;</button>
      </div>
      <p>Are you sure you want to delete <span id="deleteStudentName"></span>?</p>
      <button type="button" class="confirm-delete-button btn btn-danger" id="confirmDeleteButton">Delete</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script type="module" src="../public/assets/js/parent_overview.js"></script>
  <script>
    $(document).ready(function() {
      $('#header-container').load('global_header.html', function() {});
    });
  </script>
  <script type="module" src="../public/assets/js/add_student.js"></script>
</body>
</html>
